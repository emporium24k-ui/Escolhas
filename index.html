<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Escolhas — Emporium24k</title>

<style>
:root{
  --bg:#000;
  --text:#f4f4f6;
  --border:rgba(255,255,255,.14);
  --radius:18px;
  --gap:12px;

  /* DOURADO ESCURO (chamativo) */
  --gold:#b88a1b;
  --gold2:#e2b84a;
  --goldBorder:#f2d37a;
  --goldText:#0b0b0d;
  --goldGlow: rgba(184,138,27,.45);
}

*{box-sizing:border-box}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
  padding:18px;
}
.wrap{max-width:1100px;margin:auto}

.grid6{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  grid-template-areas:
    "top1 top2 top3"
    "bot1 bot2 bot3";
  gap:var(--gap);
  align-items:start;
}

/* modo 2 colunas (sem meio) */
.grid6.twoCols{
  grid-template-columns:repeat(2,1fr);
  grid-template-areas:
    "top1 top3"
    "bot1 bot3";
}

.panel{
  border:1px solid var(--border);
  border-radius:var(--radius);
  background:rgba(255,255,255,.02);
  overflow:hidden;
}

.hidden{display:none !important;}

.mediaPanel{position:relative; min-height:140px;}
.media{min-height:140px;}
.media img{width:100%;height:auto;display:block;}

.caption{
  display:none; /* desktop não usa */
  padding:14px 14px 70px 14px; /* espaço pro botão */
  border-top:1px solid rgba(255,255,255,.10);
  font-size:18px;
  line-height:1.35;
}

/* card sem imagem, só botão */
.btnOnly{
  display:flex;
  align-items:flex-end;
  justify-content:center;
  padding:0;
  min-height:140px;
}
.btnOnly .media{display:none !important;}
.btnOnly .caption{display:none !important;}
.btnOnly .choiceBtn{
  position:static;
  margin:12px;
  width:calc(100% - 24px);
}

.choiceBtn{
  position:absolute;
  left:12px;right:12px;bottom:12px;
  padding:14px;
  border-radius:14px;
  background:linear-gradient(180deg,var(--gold2),var(--gold));
  color:var(--goldText);
  border:1px solid var(--goldBorder);
  box-shadow:
    0 12px 30px rgba(0,0,0,.6),
    0 0 30px var(--goldGlow);
  font-weight:950;
  text-transform:uppercase;
  text-align:center;
  cursor:pointer;
  user-select:none;
}
.choiceBtn:hover{filter:brightness(1.08)}
.choiceBtn:active{transform:translateY(2px)}

.textPanel{padding:16px}
.textPanel p{margin:0;font-size:18px; line-height:1.35}

.bigLabel{font-size:22px;font-weight:900}
.centerText{text-align:center;font-size:20px;font-weight:900}

#top1{grid-area:top1}
#top2{grid-area:top2}
#top3{grid-area:top3}
#bot1{grid-area:bot1}
#bot2{grid-area:bot2}
#bot3{grid-area:bot3}

/* PDF ocupa os 3 espaços de cima */
.pdfFull{
  grid-area:top1 / top1 / top3 / top3;
  border:1px solid var(--border);
  border-radius:var(--radius);
  position:relative;
  overflow:hidden;
  min-height:70vh;
}
.pdfFull iframe{
  width:100%;
  height:70vh;
  border:0;
  background:#000;
}

.pdfAction{
  position:absolute;
  top:14px;
  padding:14px 18px;
  border-radius:14px;
  background:linear-gradient(180deg,var(--gold2),var(--gold));
  color:var(--goldText);
  border:1px solid var(--goldBorder);
  font-weight:950;
  cursor:pointer;
  user-select:none;
  z-index:10;
}
.pdfAction.left{left:14px}
.pdfAction.right{right:14px}

/* =========================
   MOBILE: fica claro
   - 1 coluna
   - some os textos de baixo
   - mostra texto dentro do card
========================= */
@media (max-width:900px){
  body{padding:10px;}
  .wrap{max-width:100%;}

  .grid6,
  .grid6.twoCols{
    grid-template-columns:1fr;
    grid-template-areas:
      "top1"
      "top2"
      "top3"
      "bot1"
      "bot2"
      "bot3";
  }

  .panel{border-radius:16px;}
  .mediaPanel{min-height:240px;}
  .media{min-height:240px;}

  .choiceBtn{
    padding:18px;
    font-size:18px;
    border-radius:16px;
  }

  .textPanel{display:none;}
  .caption{display:block;}

  .pdfFull{min-height:78vh;}
  .pdfFull iframe{height:78vh;}

  .pdfAction{
    padding:16px 16px;
    font-size:16px;
    border-radius:16px;
  }
  .pdfAction.left{left:10px;}
  .pdfAction.right{right:10px;}
}
</style>
</head>

<body>
<div class="wrap">
  <div class="grid6" id="grid">

    <div class="panel mediaPanel" id="top1">
      <div class="media"><img id="top1img" alt=""></div>
      <div class="caption" id="cap1"></div>
      <div class="choiceBtn" id="top1btn"></div>
    </div>

    <div class="panel mediaPanel" id="top2">
      <div class="media"><img id="top2img" alt=""></div>
      <div class="caption" id="cap2"></div>
      <div class="choiceBtn" id="top2btn"></div>
    </div>

    <div class="panel mediaPanel" id="top3">
      <div class="media"><img id="top3img" alt=""></div>
      <div class="caption" id="cap3"></div>
      <div class="choiceBtn" id="top3btn"></div>
    </div>

    <div class="pdfFull hidden" id="pdfWrap">
      <div class="pdfAction left" id="pdfBack">voltar</div>
      <div class="pdfAction right" id="pdfWhats">chamar no whatsapp</div>
      <iframe id="pdfFrame" title="PDF"></iframe>
    </div>

    <div class="panel textPanel" id="bot1"><p id="bot1p"></p></div>
    <div class="panel textPanel" id="bot2"><p id="bot2p"></p></div>
    <div class="panel textPanel" id="bot3"><p id="bot3p"></p></div>

  </div>
</div>

<script>
const IMG = "./";
const TIMER = 60000;
const WHATS = "https://wa.me/5541998518452";

/* ✅ como você subiu tudo na raiz, o viewer é esse */
const PDFJS_VIEWER = "./viewer.html";

const grid = document.getElementById("grid");

const top1=document.getElementById("top1");
const top2=document.getElementById("top2");
const top3=document.getElementById("top3");

const t1=document.getElementById("top1img");
const t2=document.getElementById("top2img");
const t3=document.getElementById("top3img");

const b1=document.getElementById("top1btn");
const b2=document.getElementById("top2btn");
const b3=document.getElementById("top3btn");

const cap1=document.getElementById("cap1");
const cap2=document.getElementById("cap2");
const cap3=document.getElementById("cap3");

const bot1=document.getElementById("bot1p");
const bot2=document.getElementById("bot2p");
const bot3=document.getElementById("bot3p");

const bot1Panel=document.getElementById("bot1");
const bot2Panel=document.getElementById("bot2");
const bot3Panel=document.getElementById("bot3");

const pdfWrap=document.getElementById("pdfWrap");
const pdfFrame=document.getElementById("pdfFrame");
const pdfBack=document.getElementById("pdfBack");
const pdfWhats=document.getElementById("pdfWhats");

let timer;

/* ✅ imagem 03 é jpeg */
function img(name){ return name==="03" ? IMG+"03.jpeg" : IMG+name+".png"; }

function clearT(){ if(timer) clearTimeout(timer); }
function startT(fn){ clearT(); timer=setTimeout(fn, TIMER); }

function showPanel(el){ el.classList.remove("hidden"); }
function hidePanel(el){ el.classList.add("hidden"); }

function setBtn(btnEl, text, onClick){
  btnEl.textContent = text || "";
  btnEl.onclick = null;
  if(!text){ btnEl.classList.add("hidden"); return; }
  btnEl.classList.remove("hidden");
  btnEl.onclick = onClick;
}

function setImg(imgEl, src){
  imgEl.style.display="block";
  imgEl.onerror = () => { imgEl.style.display="none"; };
  imgEl.src = src;
}

function setTwoColsMode(on){
  if(on) grid.classList.add("twoCols");
  else grid.classList.remove("twoCols");
}

function clearBtnOnly(){
  top1.classList.remove("btnOnly");
  top2.classList.remove("btnOnly");
  top3.classList.remove("btnOnly");
}

/* ✅ texto único: desktop embaixo + mobile dentro do card */
function setText(slot, html){
  const v = html || "";
  if(slot===1){ bot1.innerHTML=v; cap1.innerHTML=v; }
  if(slot===2){ bot2.innerHTML=v; cap2.innerHTML=v; }
  if(slot===3){ bot3.innerHTML=v; cap3.innerHTML=v; }
}

function resetLayout(){
  clearBtnOnly();

  hidePanel(pdfWrap);
  pdfFrame.removeAttribute("src");

  showPanel(top1); showPanel(top2); showPanel(top3);
  showPanel(bot1Panel); showPanel(bot2Panel); showPanel(bot3Panel);

  setBtn(b1, "", null); setBtn(b2, "", null); setBtn(b3, "", null);

  setText(1,""); setText(2,""); setText(3,"");

  t1.removeAttribute("src");
  t2.removeAttribute("src");
  t3.removeAttribute("src");
  t1.style.display="block";
  t2.style.display="block";
  t3.style.display="block";

  setTwoColsMode(false);
}

/* centro + escolhas laterais */
function centerWithSideChoices(centerImgName, leftText, leftFn, rightText, rightFn, centerBottomHtml, timeoutFn){
  clearT();
  resetLayout();

  setImg(t2, img(centerImgName));

  top1.classList.add("btnOnly");
  top3.classList.add("btnOnly");
  t1.style.display="none";
  t3.style.display="none";

  setBtn(b1, leftText, leftFn);
  setBtn(b3, rightText, rightFn);

  hidePanel(bot1Panel);
  hidePanel(bot3Panel);
  showPanel(bot2Panel);

  setText(2, centerBottomHtml || "");
  startT(timeoutFn);
}

/* ✅ URL do PDF via PDF.js (sem miniaturas) */
function pdfUrl(name){
  const filePath = "./" + name + ".pdf";
  return PDFJS_VIEWER + "?file=" + encodeURIComponent(filePath) + "#pagemode=none";
}

/* ✅ PDF: SEM TIMER */
function showPdf(name, onBack){
  clearT(); // mata o timer (não existe timer em pdf)

  hidePanel(top1); hidePanel(top2); hidePanel(top3);
  showPanel(pdfWrap);

  pdfFrame.src = pdfUrl(name);

  pdfBack.onclick = () => { hidePanel(pdfWrap); onBack(); };
  pdfWhats.onclick = () => window.location.href = WHATS;
}

/* =========================
   INICIO
========================= */
function inicio(){
  clearT();
  resetLayout();

  hidePanel(top2);
  hidePanel(bot2Panel);
  setTwoColsMode(true);

  setImg(t1, img("01"));
  setImg(t3, img("02"));

  setBtn(b1, "continuar", () => etapa01_q1());
  setBtn(b3, "continuar", () => etapa02_q1());

  setText(1, "<div class='bigLabel'>mulher</div>");
  setText(3, "<div class='bigLabel'>homem</div>");

  startT(() => (Math.random() < 0.5 ? etapa01_q1() : etapa02_q1()));
}

/* =========================
   ETAPA 01
========================= */
function etapa01_q1(){
  centerWithSideChoices(
    "0102",
    "sim", () => etapa01_tipo(),
    "não", () => etapa01_fimNao(),
    "<div class='centerText'>Você vai aprofundar seu relacionamento comprando um anel?</div>",
    () => etapa01_fimNao()
  );
}

function etapa01_fimNao(){
  clearT();
  resetLayout();

  hidePanel(top1); hidePanel(top3);
  hidePanel(bot1Panel); hidePanel(bot3Panel);

  setImg(t2, img("0105"));
  setText(2, "ah que pena, desejo tudo de bom para o seu relacionamento então");

  startT(() => inicio());
}

function etapa01_tipo(){
  clearT();
  resetLayout();

  setImg(t1, img("0401"));
  setImg(t2, img("0103"));
  setImg(t3, img("0301"));

  setBtn(b1, "continuar", () => etapa01_barato());
  setBtn(b3, "continuar", () => etapa01_emporium());

  setText(1, "<div class='bigLabel'>Loja Baratesa</div>");
  setText(2, "<div class='centerText'>Qual tipo de joalheria você escolheria?</div>");
  setText(3, "<div class='bigLabel'>Emporium24k</div>");

  startT(() => inicio());
}

function etapa01_emporium(){
  clearT();
  resetLayout();

  setImg(t2, img("03"));
  setImg(t1, img("0103"));
  setImg(t3, img("0103"));

  setBtn(b1, "continuar", () => etapa01_pdf_prata());
  setBtn(b3, "continuar", () => etapa01_pdf_ouro());

  setText(1, "<div class='bigLabel'>quero um par de anéis de namoro</div>");
  setText(2, "<div class='centerText'>Olá como posso te ajudar?</div>");
  setText(3, "<div class='bigLabel'>quero um par de anéis de casamento</div>");

  startT(() => etapa01_tipo());
}

function etapa01_pdf_prata(){
  resetLayout();
  hidePanel(bot2Panel);
  showPanel(bot1Panel); showPanel(bot3Panel);

  setText(1, "<div class='bigLabel'>muito caro</div>");
  setText(3, "<div class='bigLabel'>quero comprar</div>");

  showPdf("Prata", () => etapa01_tipo());
}

function etapa01_pdf_ouro(){
  resetLayout();
  hidePanel(bot2Panel);
  showPanel(bot1Panel); showPanel(bot3Panel);

  setText(1, "<div class='bigLabel'>muito caro</div>");
  setText(3, "<div class='bigLabel'>quero comprar</div>");

  showPdf("Ouro", () => etapa01_tipo());
}

function etapa01_barato(){
  clearT();
  resetLayout();

  setImg(t2, img("04"));
  setImg(t1, img("0103"));
  setImg(t3, img("0103"));

  setBtn(b1, "continuar", () => etapa01_tapeada());
  setBtn(b3, "continuar", () => etapa01_tipo());

  setText(1, "<div class='bigLabel'>sim</div>");
  setText(2, "<div class='centerText'>Eai procurando um par de alianças no precinho?</div>");
  setText(3, "<div class='bigLabel'>não</div>");

  startT(() => etapa01_tipo());
}

function etapa01_tapeada(){
  clearT();
  resetLayout();

  setImg(t2, img("0108"));
  setImg(t1, img("0105"));
  setImg(t3, img("0106"));

  setBtn(b1, "continuar", () => inicio());
  setBtn(b3, "continuar", () => etapa01_alerta());

  setText(1, "<div class='bigLabel'>Desistir</div>");
  setText(2, "<div class='centerText'>FUI TAPEADA</div>");
  setText(3, "<div class='bigLabel'>voltar na loja barateza</div>");

  startT(() => inicio());
}

function etapa01_alerta(){
  clearT();
  resetLayout();

  setImg(t2, img("0402"));
  setImg(t1, img("0106"));
  setImg(t3, img("0105"));

  setBtn(b1, "continuar", () => etapa01_lutar());
  setBtn(b3, "continuar", () => inicio());

  setText(1, "<div class='bigLabel'>LUTAR</div>");
  setText(2, "<div class='centerText'>VOCÊ ACHA MESMO QUE UM ANEL NESSE PREÇO É DE ALTA QUALIDADE? VOCÊ NÃO TEM GARANTIA</div>");
  setText(3, "<div class='bigLabel'>Desistir</div>");

  startT(() => inicio());
}

function etapa01_lutar(){
  clearT();
  resetLayout();

  hidePanel(top1); hidePanel(bot1Panel);
  hidePanel(top3); hidePanel(bot3Panel);
  showPanel(top2); showPanel(bot2Panel);

  setImg(t2, img("0403"));
  setBtn(b2, "continuar", () => etapa01_final());

  setText(2, "");
  startT(() => etapa01_final());
}

function etapa01_final(){
  clearT();
  resetLayout();

  hidePanel(top1); hidePanel(bot1Panel);
  hidePanel(top3); hidePanel(bot3Panel);
  showPanel(top2); showPanel(bot2Panel);

  setImg(t2, img("0107"));
  setBtn(b2, "continuar", () => inicio());

  setText(2, "");
  startT(() => inicio());
}

/* =========================
   ETAPA 02
========================= */
function etapa02_q1(){
  centerWithSideChoices(
    "0202",
    "sim", () => etapa02_tipo(),
    "não", () => etapa02_fimNao(),
    "<div class='centerText'>Você vai aprofundar seu relacionamento comprando um anel?</div>",
    () => etapa02_fimNao()
  );
}

function etapa02_fimNao(){
  clearT();
  resetLayout();

  hidePanel(top1); hidePanel(top3);
  hidePanel(bot1Panel); hidePanel(bot3Panel);

  setImg(t2, img("0205"));
  setText(2, "ah que pena, desejo tudo de bom para o seu relacionamento então");

  startT(() => inicio());
}

function etapa02_tipo(){
  clearT();
  resetLayout();

  setImg(t1, img("0401"));
  setImg(t2, img("0203"));
  setImg(t3, img("0301"));

  setBtn(b1, "continuar", () => etapa02_barato());
  setBtn(b3, "continuar", () => etapa02_emporium());

  setText(1, "<div class='bigLabel'>Loja Baratesa</div>");
  setText(2, "<div class='centerText'>Qual tipo de joalheria você escolheria?</div>");
  setText(3, "<div class='bigLabel'>Emporium24k</div>");

  startT(() => inicio());
}

function etapa02_emporium(){
  clearT();
  resetLayout();

  setImg(t2, img("03"));
  setImg(t1, img("0203"));
  setImg(t3, img("0203"));

  setBtn(b1, "continuar", () => etapa02_pdf_prata());
  setBtn(b3, "continuar", () => etapa02_pdf_ouro());

  setText(1, "<div class='bigLabel'>quero um par de anéis de namoro</div>");
  setText(2, "<div class='centerText'>Olá como posso te ajudar?</div>");
  setText(3, "<div class='bigLabel'>quero um par de anéis de casamento</div>");

  startT(() => etapa02_tipo());
}

function etapa02_pdf_prata(){
  resetLayout();
  hidePanel(bot2Panel);
  showPanel(bot1Panel); showPanel(bot3Panel);

  setText(1, "<div class='bigLabel'>muito caro</div>");
  setText(3, "<div class='bigLabel'>quero comprar</div>");

  showPdf("Prata", () => etapa02_tipo());
}

function etapa02_pdf_ouro(){
  resetLayout();
  hidePanel(bot2Panel);
  showPanel(bot1Panel); showPanel(bot3Panel);

  setText(1, "<div class='bigLabel'>muito caro</div>");
  setText(3, "<div class='bigLabel'>quero comprar</div>");

  showPdf("Ouro", () => etapa02_tipo());
}

function etapa02_barato(){
  clearT();
  resetLayout();

  setImg(t2, img("04"));
  setImg(t1, img("0203"));
  setImg(t3, img("0203"));

  setBtn(b1, "continuar", () => etapa02_tapeado());
  setBtn(b3, "continuar", () => etapa02_tipo());

  setText(1, "<div class='bigLabel'>sim</div>");
  setText(2, "<div class='centerText'>Eai procurando um par de alianças no precinho?</div>");
  setText(3, "<div class='bigLabel'>não</div>");

  startT(() => etapa02_tipo());
}

function etapa02_tapeado(){
  clearT();
  resetLayout();

  setImg(t2, img("0208"));
  setImg(t1, img("0205"));
  setImg(t3, img("0206"));

  setBtn(b1, "continuar", () => inicio());
  setBtn(b3, "continuar", () => etapa02_alerta());

  setText(1, "<div class='bigLabel'>Desistir</div>");
  setText(2, "<div class='centerText'>FUI TAPEADO</div>");
  setText(3, "<div class='bigLabel'>voltar na loja barateza</div>");

  startT(() => inicio());
}

function etapa02_alerta(){
  clearT();
  resetLayout();

  setImg(t2, img("0402"));
  setImg(t1, img("0206"));
  setImg(t3, img("0205"));

  setBtn(b1, "continuar", () => etapa02_lutar());
  setBtn(b3, "continuar", () => inicio());

  setText(1, "<div class='bigLabel'>LUTAR</div>");
  setText(2, "<div class='centerText'>VOCÊ ACHA MESMO QUE UM ANEL NESSE PREÇO É DE ALTA QUALIDADE? VOCÊ NÃO TEM GARANTIA</div>");
  setText(3, "<div class='bigLabel'>Desistir</div>");

  startT(() => inicio());
}

function etapa02_lutar(){
  clearT();
  resetLayout();

  hidePanel(top1); hidePanel(bot1Panel);
  hidePanel(top3); hidePanel(bot3Panel);
  showPanel(top2); showPanel(bot2Panel);

  setImg(t2, img("0403"));
  setBtn(b2, "continuar", () => etapa02_final());

  setText(2, "");
  startT(() => etapa02_final());
}

function etapa02_final(){
  clearT();
  resetLayout();

  hidePanel(top1); hidePanel(bot1Panel);
  hidePanel(top3); hidePanel(bot3Panel);
  showPanel(top2); showPanel(bot2Panel);

  setImg(t2, img("0207"));
  setBtn(b2, "continuar", () => inicio());

  setText(2, "");
  startT(() => inicio());
}

/* START */
inicio();
</script>
</body>
</html>
